<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè• AI Medical Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>
                üè• AI Medical Assistant
            </h1>
            <p class="subtitle">Your intelligent healthcare companion powered by advanced AI</p>
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <!-- Error Message -->
            {% if error %}
                <div class="error-message">
                    ‚ö†Ô∏è {{ error }}
                </div>
            {% endif %}

            <!-- Chat Messages -->
            <div class="chat-messages" id="chat-messages">
                {% if messages %}
                    {% for msg in messages %}
                        <div class="message {{ msg.role }}">
                            <div class="message-content">
                                <div class="message-header">
                                    {% if msg.role == 'user' %}
                                        üë§ You
                                    {% else %}
                                        üè• Medical Assistant
                                    {% endif %}
                                </div>
                                <div class="message-text">
                                    {{ msg.content | nl2br | safe }}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="empty-state">
                        <div class="empty-state-icon">üí¨</div>
                        <h3>Welcome to your AI Medical Assistant</h3>
                        <p>Ask me any medical question and I'll provide you with accurate, evidence-based information to help with your healthcare needs.</p>
                    </div>
                {% endif %}
            </div>

            <!-- Input Section -->
            <div class="input-section">
                <form method="post" action="{{ url_for('index') }}" id="chat-form">
                    <div class="input-form">
                        <div class="input-wrapper">
                            <textarea 
                                name="prompt" 
                                id="prompt"
                                class="input-field"
                                placeholder="Ask a medical question... (Press Enter to send, Shift+Enter for new line)"
                                required
                                rows="1"></textarea>
                        </div>
                        <button type="submit" class="send-button" id="send-button">
                            ‚û§
                        </button>
                    </div>
                </form>
                
                <form method="post" action="{{ url_for('clear') }}" style="display: inline;">
                    <button type="submit" class="clear-button">üóëÔ∏è Clear Chat</button>
                </form>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>